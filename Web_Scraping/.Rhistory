comment_data6
Rating6_data_html <- html_nodes(Capecitabine, 'tr:nth-child(2) .rating-score , .user-comment .rating-score')
Ratings6 <- as.numeric(html_text(Rating6_data_html, trim = TRUE))
Ratings6
Capecitabine_data <- data.frame(
Patient = Patient6, Comment = comment_data6, Rating = Ratings6
)
View(Capecitabine_data)
url6 <- 'https://www.drugs.com/comments/carboplatin/'
Carboplatin <- read_html(url6)
Patient6_data_html <- html_nodes(Carboplatin, '.user-type')
Patient6 <- html_text(Patient6_data_html, trim = TRUE)
Patient6 <- gsub(" .*","",Patient6)
comment6_data_html <- html_nodes(Carboplatin, 'b+ span')
comment_data6 <- html_text(comment6_data_html)
comment_data6 <- gsub("\"","",comment_data6)
Rating6_data_html <- html_nodes(Carboplatin, 'tr:nth-child(2) .rating-score , .user-comment .rating-score')
Ratings6 <- as.numeric(html_text(Rating6_data_html, trim = TRUE))
Carboplatin_data <- data.frame(
Patient = Patient6, Comment = comment_data6, Rating = Ratings6
)
write.xlsx(Letrozole_data, "Carboplatin_data.xlsx")
write.xlsx(Carboplatin, "Carboplatin_data.xlsx")
Ratings6
comment_data6
Patient6
Carboplatin_data <- data.frame(
Patient = Patient6, Comment = comment_data6, Rating = Ratings6
)
write.xlsx(Carboplatin_data, "Carboplatin_data.xlsx")
View(Carboplatin_data)
url6 <- 'https://www.drugs.com/comments/paclitaxel/'
url6 <- 'https://www.drugs.com/comments/carboplatin/'
url7 <- 'https://www.drugs.com/comments/paclitaxel/'
Paclitaxel <- read_html(url7)
Patient7_data_html <- html_nodes(Paclitaxel, '.user-type')
Patient7_data_html <- html_nodes(Paclitaxel, '.user-type')
Patient7 <- html_text(Patient7_data_html, trim = TRUE)
Patient7 <- gsub(" .*","",Patient7)
Patient7
comment7_data_html <- html_nodes(Paclitaxel, 'b+ span')
comment_data7 <- html_text(comment7_data_html)
comment_data7
comment_data7 <- gsub("\"","",comment_data7)
comment_data7
Patient7
Rating7_data_html <- html_nodes(Paclitaxel, 'tr:nth-child(2) .rating-score , .user-comment .rating-score')
Ratings7 <- as.numeric(html_text(Rating7_data_html, trim = TRUE))
Ratings7
Rating7_data_html <- html_nodes(Paclitaxel, '.user-comment .rating-score')
Ratings7 <- as.numeric(html_text(Rating7_data_html, trim = TRUE))
Ratings7
Paclitaxel_data <- data.frame(
Patient = Patient7, Comment = comment_data7, Rating = Ratings7
)
write.xlsx(Paclitaxel_data, "Paclitaxel_data.xlsx")
url8 <- 'https://www.drugs.com/comments/paclitaxel/'
Gemcitabine <- read_html(url8)
Patient8_data_html <- html_nodes(Gemcitabine, '.user-type')
Patient8 <- html_text(Patient8_data_html, trim = TRUE)
Patient8 <- gsub(" .*","",Patient8)
Patient8
comment8_data_html <- html_nodes(Gemcitabine, 'b+ span')
comment_data8 <- html_text(comment8_data_html)
comment_data8 <- gsub("\"","",comment_data8)
comment_data8
url8 <- 'https://www.drugs.com/comments/gemcitabine/'
Gemcitabine <- read_html(url8)
Patient8_data_html <- html_nodes(Gemcitabine, '.user-type')
Patient8 <- html_text(Patient8_data_html, trim = TRUE)
Patient8 <- gsub(" .*","",Patient8)
Patient8
comment8_data_html <- html_nodes(Gemcitabine, 'b+ span')
comment_data8 <- html_text(comment8_data_html)
comment_data8 <- gsub("\"","",comment_data8)
comment_data8
Rating8_data_html <- html_nodes(Gemcitabine, '.user-comment .rating-score')
Ratings8 <- as.numeric(html_text(Rating8_data_html, trim = TRUE))
Ratings8
Patient8
Gemcitabine_data <- data.frame(
Patient = Patient8, Comment = comment_data8, Rating = Ratings8
)
write.xlsx(Gemcitabine_data, "Gemcitabine_data.xlsx")
View(Gemcitabine_data)
url9 <- 'https://www.rxlist.com/script/main/rxlist_view_comments.asp?drug=navelbine&questionid=fdb1373_pem'
Navelbine <- read_html(url9)
Patient9_data_html <- html_nodes(Navelbine, '.commentFrom')
install.packages("gdata")
q()
PRank
library("gsubfn"
library("gsubfn"
library("rvest")
library("gsubfn")
library("xlsx")
url1 <- 'https://top250.platts.com/Industry'
faslodex <- read_html(url1)
PRank_data_html <- html_nodes(faslodex, 'td:nth-child(1) span')
PRank <- html_text(PRank_data_html, trim = TRUE)
PRank <- as.numeric(PRank)
faslodex <- read_html(url1)
PRank_data_html <- html_nodes(faslodex, 'td:nth-child(1) span')
url1 <- 'https://top250.platts.com/Industry'
faslodex <- read_html(url1)
PRank_data_html <- html_nodes(faslodex, 'td:nth-child(1) span')
PRank <- html_text(PRank_data_html, trim = TRUE)
PRank <- as.numeric(PRank)
PRank
PRank
PRank
Company_data_html <- html_nodes(faslodex, '.inner a')
Comapany <- html_text(Company_data_html, trim = TRUE)
Region_data_html <- html_nodes(faslodex, '.regionTab')
Region <- html_text(Region_data_html, trim = TRUE)
Comapany
scistarter_html %>%
html_nodes("div#project-listing") %>%
html_nodes("h3") %>%
html_text()
library("rvest")
library("gsubfn")
library("xlsx")
url <- 'https://scistarter.com/finder?phrase=&lat=&lng=&activity=At%20the%20beach&topic=&search_filters=&search_audience=&page=1#view-projects'
scistarter_html <- read_html(url)
scistarter_html %>%
html_nodes("div#project-listing") %>%
html_nodes("h3") %>%
html_text()
scistarter_html %>%
html_nodes("div#project-listing") %>%
html_nodes("table") %>%
html_text()
library("rvest")
library("gsubfn")
library("xlsx")
url <- 'https://scistarter.com/finder?phrase=&lat=&lng=&activity=At%20the%20beach&topic=&search_filters=&search_audience=&page=1#view-projects'
scistarter_html <- read_html(url)
scistarter_html %>%
html_nodes("div#project-listing") %>%
html_nodes("table") %>%
html_text()
scistarter_html %>%
html_nodes("div#project-listing") %>%
html_nodes("table") %>%
html_text() %>%
gsub("^\\s+|\\s+$","",.)
scistarter_html %>%
html_nodes("td") %>%
html_text()
scistarter_html %>%
html_nodes("td") %>%
html_text() %>%
gsub("^\\s+|\\s+$","",.)
setwd("D:/R_codes/Web_Scraping")
scistarter_html %>%
html_nodes("td") %>%
html_text() %>%
gsub("^\\s+|\\s+$","",.) #To remove whitespaces from begining n End
?seq
scistarter <- scistarter_html %>%
html_nodes("td") %>%
html_text() %>%
gsub("^\\s+|\\s+$","",.) #To remove whitespaces from begining n End
scistarter
goals <- scistarter[seq(from = 1, to = 30, by = 3)]
Goals <- scistarter[seq(from = 1, to = 30, by = 3)]
Goals <- scistarter[seq(from = 1, to = 30, by = 3)]
Tasks <- scistarter[seq(from = 2, to = 30, by = 3)]
Goals
Tasks <- scistarter[seq(from = 2, to = 30, by = 3)]
Tasks
Location <- scistarter[seq(from = 3, to = 30, by = 3)]
Location
scistarter_data <- data.frame(
"Goals" = Goals, "Tasks" = Tasks, "Location" = Location
)
View(scistarter_data)
?ceiling
a <- ceiling(4)
a
a <- ceiling(4/3)
a
a <- ceiling(4/2)
a
ceiling(3/3)
ceiling(832/10)
a.df <- data.frame()
View(a.df)
pages <- ceiling(179/10) #No of pages
sci.df <- data.frame()
rm(a.df)
pages <- ceiling(179/10) #No of pages
sci.df <- data.frame()
scistarter_html %>%
html_nodes("div#project-listing") %>%
html_nodes("h3") %>%
html_text()
scistarter_html %>%
html_nodes("div#project-listing") %>%
html_nodes("h3") %>%
html_text() %>%
gsub("^\\s+|\\s+$")
scistarter_html %>%
html_nodes("div#project-listing") %>%
html_nodes("h3") %>%
html_text() %>%
gsub("^\\s+|\\s+$","",.)
?rbind
pages <- ceiling(179/10) #No of pages
sci.df <- data.frame()
for( page in pages)
{
print(paste0("Gettin Data for page ", page))
URL <- paste0("https://scistarter.com/finder?phrase=&lat=&lng=&activity=At%20the%20beach&topic=&search_filters=&search_audience=&ordering=quality&page=",page,"#view-projects")
scistarter_html <- read_html(URL)
scistarter <- scistarter_html %>%
html_nodes("td") %>%
html_text() %>%
gsub("^\\s+|\\s+$","",.)
goal <- scistarter[seq(from = 1, to = 30, by = 3)]
tasks <- scistarter[seq(from = 2, to = 30, by = 3)]
loc <- scistarter[seq(from = 3, to = 30, by = 3)]
title <- scistarter_html %>%
html_nodes("div#project-listing") %>%
html_nodes("h3") %>%
html_text() %>%
gsub("^\\s+|\\s+$")
tmp <- data.frame(title, goal, tasks, loc)
if(pages == 1) {
sci.df <- data.frame(tmp)
} else {
sci.df <- rbind(sci.df, tmp)
}
}
for( page in pages)
{
print(paste0("Gettin Data for page ", page))
URL <- paste0("https://scistarter.com/finder?phrase=&lat=&lng=&activity=At%20the%20beach&topic=&search_filters=&search_audience=&ordering=quality&page=",page,"#view-projects")
scistarter_html <- read_html(URL)
scistarter <- scistarter_html %>%
html_nodes("td") %>%
html_text() %>%
gsub("^\\s+|\\s+$","",.)
goal <- scistarter[seq(from = 1, to = 30, by = 3)]
tasks <- scistarter[seq(from = 2, to = 30, by = 3)]
loc <- scistarter[seq(from = 3, to = 30, by = 3)]
title <- scistarter_html %>%
html_nodes("div#project-listing") %>%
html_nodes("h3") %>%
html_text() %>%
gsub("^\\s+|\\s+$","",.)
tmp <- data.frame(title, goal, tasks, loc)
if(pages == 1) {
sci.df <- data.frame(tmp)
} else {
sci.df <- rbind(sci.df, tmp)
}
}
pages <- ceiling(832/10) #No of pages
sci.df <- data.frame()
for( page in pages)
{
print(paste0("Gettin Data for page ", page))
URL <- paste0("https://scistarter.com/finder?phrase=&lat=&lng=&activity=At%20the%20beach&topic=&search_filters=&search_audience=&ordering=quality&page=",page,"#view-projects")
scistarter_html <- read_html(URL)
scistarter <- scistarter_html %>%
html_nodes("td") %>%
html_text() %>%
gsub("^\\s+|\\s+$","",.)
goal <- scistarter[seq(from = 1, to = 30, by = 3)]
tasks <- scistarter[seq(from = 2, to = 30, by = 3)]
loc <- scistarter[seq(from = 3, to = 30, by = 3)]
title <- scistarter_html %>%
html_nodes("div#project-listing") %>%
html_nodes("h3") %>%
html_text() %>%
gsub("^\\s+|\\s+$","",.)
tmp <- data.frame(title, goal, tasks, loc)
if(pages == 1) {
sci.df <- data.frame(tmp)
} else {
sci.df <- rbind(sci.df, tmp)
}
}
pages <- ceiling(832/10) #No of pages
pages
page
page <- 1
print(paste0("Gettin Data for page ", page))
URL <- paste0("https://scistarter.com/finder?phrase=&lat=&lng=&activity=At%20the%20beach&topic=&search_filters=&search_audience=&ordering=quality&page=",page,"#view-projects")
URL
scistarter_html <- read_html(URL)
scistarter <- scistarter_html %>%
html_nodes("td") %>%
html_text() %>%
gsub("^\\s+|\\s+$","",.)
scistarter
goal <- scistarter[seq(from = 1, to = 30, by = 3)]
tasks <- scistarter[seq(from = 2, to = 30, by = 3)]
loc <- scistarter[seq(from = 3, to = 30, by = 3)]
goal
tasks
loc
title <- scistarter_html %>%
html_nodes("div#project-listing") %>%
html_nodes("h3") %>%
html_text() %>%
gsub("^\\s+|\\s+$","",.)
title
tmp <- data.frame(title, goal, tasks, loc)
tmp
if(pages == 1) {
sci.df <- data.frame(tmp)
} else {
sci.df <- rbind(sci.df, tmp)
}
pages <- ceiling(832/10) #No of pages
sci.df <- data.frame()
for( page in (1:pages))
{
print(paste0("Gettin Data for page ", page))
URL <- paste0("https://scistarter.com/finder?phrase=&lat=&lng=&activity=At%20the%20beach&topic=&search_filters=&search_audience=&ordering=quality&page=",page,"#view-projects")
scistarter_html <- read_html(URL)
scistarter <- scistarter_html %>%
html_nodes("td") %>%
html_text() %>%
gsub("^\\s+|\\s+$","",.)
goal <- scistarter[seq(from = 1, to = 30, by = 3)]
tasks <- scistarter[seq(from = 2, to = 30, by = 3)]
loc <- scistarter[seq(from = 3, to = 30, by = 3)]
title <- scistarter_html %>%
html_nodes("div#project-listing") %>%
html_nodes("h3") %>%
html_text() %>%
gsub("^\\s+|\\s+$","",.)
tmp <- data.frame(title, goal, tasks, loc)
if(pages == 1) {
sci.df <- data.frame(tmp)
} else {
sci.df <- rbind(sci.df, tmp)
}
}
page
print(paste0("Gettin Data for page ", page))
URL <- paste0("https://scistarter.com/finder?phrase=&lat=&lng=&activity=At%20the%20beach&topic=&search_filters=&search_audience=&ordering=quality&page=",page,"#view-projects")
URL
scistarter_html <- read_html(URL)
scistarter <- scistarter_html %>%
html_nodes("td") %>%
html_text() %>%
gsub("^\\s+|\\s+$","",.)
goal <- scistarter[seq(from = 1, to = 30, by = 3)]
tasks <- scistarter[seq(from = 2, to = 30, by = 3)]
loc <- scistarter[seq(from = 3, to = 30, by = 3)]
goal
tasks
loc
title
str(goal)
goal <- na.omit(goal)
goal
goal
tasks
goal
goal <- scistarter[seq(from = 1, to = 30, by = 3)]
goal
goal[!is.na(goal)]
goal <- scistarter[seq(from = 1, to = 30, by = 3)]
goal
goal <- (!is.na(scistarter[seq(from = 1, to = 30, by = 3)]))
goal
goal <- (scistarter[seq(from = 1, to = 30, by = 3)])
goal
goal <- goal[is.na(goal)]
goal
goal <- (scistarter[seq(from = 1, to = 30, by = 3)])
goal <- goal[!is.na(goal)]
goal
page
print(paste0("Gettin Data for page ", page))
URL <- paste0("https://scistarter.com/finder?phrase=&lat=&lng=&activity=At%20the%20beach&topic=&search_filters=&search_audience=&ordering=quality&page=",page,"#view-projects")
scistarter_html <- read_html(URL)
scistarter <- scistarter_html %>%
html_nodes("td") %>%
html_text() %>%
gsub("^\\s+|\\s+$","",.)
goal <- (scistarter[seq(from = 1, to = 30, by = 3)])
tasks <- scistarter[seq(from = 2, to = 30, by = 3)]
loc <- scistarter[seq(from = 3, to = 30, by = 3)]
title <- scistarter_html %>%
html_nodes("div#project-listing") %>%
html_nodes("h3") %>%
html_text() %>%
gsub("^\\s+|\\s+$","",.)
goal <- goal[!is.na(goal)]
tasks <- tasks[!is.na(tasks)]
loc <- loc[!is.na(loc)]
title <- title[!is.na(title)]
tmp <- data.frame(title, goal, tasks, loc)
if(pages == 1) {
sci.df <- data.frame(tmp)
} else {
sci.df <- rbind(sci.df, tmp)
}
{
print(paste0("Gettin Data for page ", page))
URL <- paste0("https://scistarter.com/finder?phrase=&lat=&lng=&activity=At%20the%20beach&topic=&search_filters=&search_audience=&ordering=quality&page=",page,"#view-projects")
scistarter_html <- read_html(URL)
scistarter <- scistarter_html %>%
html_nodes("td") %>%
html_text() %>%
gsub("^\\s+|\\s+$","",.)
goal <- (scistarter[seq(from = 1, to = 30, by = 3)])
tasks <- scistarter[seq(from = 2, to = 30, by = 3)]
loc <- scistarter[seq(from = 3, to = 30, by = 3)]
title <- scistarter_html %>%
html_nodes("div#project-listing") %>%
html_nodes("h3") %>%
html_text() %>%
gsub("^\\s+|\\s+$","",.)
goal <- goal[!is.na(goal)]
tasks <- tasks[!is.na(tasks)]
loc <- loc[!is.na(loc)]
title <- title[!is.na(title)]
tmp <- data.frame(title, goal, tasks, loc)
if(pages == 1) {
sci.df <- data.frame(tmp)
} else {
sci.df <- rbind(sci.df, tmp)
}
}
View(tmp)
pages <- ceiling(832/10) #No of pages
sci.df <- data.frame()
for( page in (1:pages))
{
print(paste0("Gettin Data for page ", page))
URL <- paste0("https://scistarter.com/finder?phrase=&lat=&lng=&activity=At%20the%20beach&topic=&search_filters=&search_audience=&ordering=quality&page=",page,"#view-projects")
scistarter_html <- read_html(URL)
scistarter <- scistarter_html %>%
html_nodes("td") %>%
html_text() %>%
gsub("^\\s+|\\s+$","",.)
goal <- (scistarter[seq(from = 1, to = 30, by = 3)])
tasks <- scistarter[seq(from = 2, to = 30, by = 3)]
loc <- scistarter[seq(from = 3, to = 30, by = 3)]
title <- scistarter_html %>%
html_nodes("div#project-listing") %>%
html_nodes("h3") %>%
html_text() %>%
gsub("^\\s+|\\s+$","",.)
goal <- goal[!is.na(goal)]
tasks <- tasks[!is.na(tasks)]
loc <- loc[!is.na(loc)]
title <- title[!is.na(title)]
tmp <- data.frame(title, goal, tasks, loc)
if(pages == 1) {
sci.df <- data.frame(tmp)
} else {
sci.df <- rbind(sci.df, tmp)
}
}
View(sci.df)
url1 <- 'https://top250.platts.com/Industry'
industry_data <- data.frame()
url1 <- 'https://top250.platts.com/Industry'
industry_data <- data.frame()
industry_html <- read_html(url1)
industry_html %>%
html_nodes("table#ctl00_ContentMain_rptIndustry_ctl00_usrIndustries_gvCompanies") %>%
html_nodes("table") %>%
html_text() %>%
gsub("^\\s+|\\s+$","",.)
industry_html <- read_html(url1)
industry_html
industry_html %>%
html_nodes("table#ctl00_ContentMain_rptIndustry_ctl00_usrIndustries_gvCompanies") %>%
html_nodes("table") %>%
html_text() %>%
gsub("^\\s+|\\s+$","",.)
industry_html %>%
html_nodes("table") %>%
html_nodes("td") %>%
html_text() %>%
gsub("^\\s+|\\s+$","",.)
industry_html %>%
html_nodes("table") %>%
html_nodes("td") %>%
html_text() %>%
gsub("^\\s+|\\s+$","",.) %>%
head()
industry_html %>%
html_nodes("table") %>%
html_nodes("td") %>%
html_text() %>%
gsub("^\\s+|\\s+$","",.)
industry_html %>%
html_nodes("table#ctl00_ContentMain_rptIndustry_ctl00_usrIndustries_gvCompanies") %>%
html_nodes("td") %>%
html_text() %>%
gsub("^\\s+|\\s+$","",.)
industry_html %>%
html_nodes("table#ctl00_ContentMain_rptIndustry_ctl00_usrIndustries_gvCompanies") %>%
html_nodes("td") %>%
html_text() %>%
gsub("^\\s+|\\s+$","",.)
library("rvest")
library("gsubfn")
library("xlsx")
url1 <- 'https://top250.platts.com/Industry'
industry_data <- data.frame()
